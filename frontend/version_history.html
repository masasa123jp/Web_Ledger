<!DOCTYPE html>
<html lang="ja">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Version History</title>
  <!-- 共通CSS -->
  <link rel="stylesheet" href="/static/css/style.css">
  <!-- Bootstrap CSS (CDN) -->
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
  <!-- Vue マウント用ラッパー -->
  <div id="versionHistoryApp">
    <!-- ヘッダーコンポーネント (header.js で定義されている) -->
    <app-header :texts="headerTexts"
                @toggle-language="toggleLanguage"
                @logout-success="handleLogout">
    </app-header>
    <!-- タイトル -->
    <h1 class="mb-4">[[ versionHistoryTexts.version_history_title ]]</h1>
    
    <!-- バージョン履歴リスト -->
    <div v-if="versionList.length > 0">
      <ul class="list-group">
        <li class="list-group-item" v-for="(item, index) in versionList" :key="index">
          <h5>[[ versionHistoryTexts.version_label ]] [[ item.version ]] - [[ versionHistoryTexts.sprint_label ]] [[ item.sprint ]]</h5>
          <!-- 改行を <br> に変換して表示 -->
          <p class="pre-line-text" v-html="formatUpdateInfo(item.update_info)"></p>
          <small>[[ versionHistoryTexts.updated_at ]] [[ item.timestamp ]]</small>
        </li>
      </ul>
    </div>
    <!-- 履歴が無い場合 -->
    <div v-else class="alert alert-info">
      [[ versionHistoryTexts.no_version_history ]]
    </div>
  
  </div>
  
  <!-- ライブラリ -->
  <script src="https://cdn.jsdelivr.net/npm/vue@2.6.14/dist/vue.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
  
  <!-- グローバル設定・多言語テキスト -->
  <script src="/static/js/common/global.js"></script>
  <script src="/static/js/common/texts.js"></script>
  <script src="/static/js/common/header.js"></script>
  <!-- Bootstrap JS -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <!-- バージョン履歴用のスクリプト -->
  <script src="/static/js/modules/version_history.js"></script>
</body>
</html>
